Generate Docker Images
======================

Project Files
-------------
git clone https://github.com/kratz74/pyEpGp.git epgp

Web Application Image
---------------------
$ cd epgp/docker/
$ wget https://partner-images.canonical.com/core/yakkety/current/ubuntu-yakkety-core-cloudimg-amd64-root.tar.gz
$ docker build .
$ docker tag 404a47127144 gcr.io/<project-id>/epgp:v2
$ gcloud docker -- push gcr.io/<project-id>/epgp:v2

Initialize Cloud
================
$ gcloud config set compute/zone europe-west1-d

Container cluster configuration was done manually using
Google Cloud Console: Compute > Container Engine > Container Clusters

$ gcloud container clusters create epgp
$ gcloud container clusters get-credentials epgp
$ kubectl run epgp --image=gcr.io/epgp-152513/epgp:v2 --port=80

$ kubectl get deployments
NAME      DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
epgp      1         1         1            0           19s

$ kubectl get pods
NAME                    READY     STATUS    RESTARTS   AGE
epgp-1424212282-tempd   1/1       Running   0          40s

$ kubectl expose deployment epgp --type="LoadBalancer"
$ kubectl get services epgp
NAME      CLUSTER-IP    EXTERNAL-IP   PORT(S)   AGE
epgp      10.1.254.49   35.187.2.9    80/TCP    57s
